generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model User {
  uuid        String        @id @default(uuid())
  email       String        @unique
  name        String
  createdAt   DateTime      @default(now()) @map("created_at")
  updatedAt   DateTime      @updatedAt @map("updated_at")
  lastLogin   DateTime?     @map("last_login")
  MarketShare MarketShare[]

  @@map("user")
}

model MarketShare {
  uuid            String   @id @default(uuid())
  user            User     @relation(fields: [userUuid], references: [uuid])
  userUuid        String   @map("user_uuid")
  marketUuid      String   @map("market_uuid")
  marketAlignment String   @map("market_alignment")
  shares          Float
  purchaseValue   Float    @map("purchase_value")
  createdAt       DateTime @default(now()) @map("created_at")

  @@index([userUuid])
  @@map("market_share")
}
